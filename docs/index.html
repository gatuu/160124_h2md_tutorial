<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>H2MDチュートリアル</title>
  <link rel="stylesheet" href="css/style.css">
  <link href="css/style.css">
  <!-- H2MDのライブラリを読み込みます。 -->
  <script src="libs/h2md.min.js"></script>
  <script>
    // Domの準備ができたら処理を実行します。
    window.addEventListener("DOMContentLoaded", function () {
      // H2MDを初期化します。
      var instance = new H2MD();

      // 動画を再生するcanvas要素を指定します。
      instance.canvas("canvas");

      // H2MD動画を読み込みます。「◯◯.h2md」の部分を指定します。
      instance.open('./h2md/movie.h2md', function () {
        // 動画の読み込みに成功したら、再生を開始します。
        instance.play();
      });

      // ループ指定します。
      instance.loop(0);

      // リサイズ処理を行います。
      resize();
      // ウインドウのサイズが変わる度に、リサイズ処理を実行します。
      window.addEventListener("resize", resize);

    });

    // canvasのリサイズ処理です。
    function resize() {
      // retina対応のための処理です。
      var canvas = document.getElementById("canvas");

      // 動画の幅
      var movieWidth = 640;
      // 動画の高さ
      var movieHeight = 700;
      // canvas要素を全画面に広げる
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerWidth * movieHeight / movieWidth + "px";
    }

  </script>
</head>
<body>

<div class="movieFrame">
  <!-- 動画を再生するcanvas要素です。要素のID、動画の幅と高さを指定します。 -->
  <canvas id="canvas" width="640" height="700">
  </canvas>
</div>
</body>
</html>